<!--
use https://github.com/schmittl/tgajs
-->

<style>
	::-webkit-scrollbar { width: 5px; }
	::-webkit-scrollbar-track { background: transparent; }
	::-webkit-scrollbar-thumb { background: #888; }
	::-webkit-scrollbar-thumb:hover { background: #555; }
	body {
		margin: 3em 0.5em;
		color: white;
		background: #1d1d1d;
		display: flex;
		justify-content: center;
		align-items: center;
	}
	body img { width: 100%; image-rendering: pixelated; }

</style>

<body></body>

<script>
	function checkImageSupport(){
		if(document.querySelector('picture').clientHeight > 1) return;

		console.error(`Image is not supported in this browser, should create a message that says so in DOM!`);
		//onload="javascript: checkImageSupport()"
	}
if(document.location.href.includes('.tga')){
	const src = document.location.href.replace('/::preview::/', '');
	document.body.innerHTML = `
<picture>
	<source type="image/x-tga" srcset="${src}">
	<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
	onload="javascript: checkImageSupport()"
>
</picture>
`.trim();
}
</script>
